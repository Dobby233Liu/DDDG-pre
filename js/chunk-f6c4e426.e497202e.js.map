{"version":3,"sources":["webpack:///./src/components/repo/layouts/SingleBox.vue?93a8","webpack:///./src/components/repo/List.vue?a38f","webpack:///./src/components/repo/PackDisplay.vue?f119","webpack:///./src/components/repo/PackDisplay.vue?1e38","webpack:///./src/components/repo/SearchBar.vue?4026","webpack:///./src/components/repo/layouts/SingleBox.vue","webpack:///./src/components/repo/SearchBar.vue","webpack:///./src/components/repo/SearchBar.vue?2b2a","webpack:///./src/components/repo/SearchBar.vue?e003","webpack:///./src/components/repo/List.vue","webpack:///./node_modules/@edave64/dddg-repo-filters/dist/parse.js","webpack:///./node_modules/@edave64/dddg-repo-filters/dist/optimize.js","webpack:///./node_modules/@edave64/dddg-repo-filters/dist/compile.js","webpack:///./node_modules/@edave64/dddg-repo-filters/dist/main.js","webpack:///./src/components/repo/List.vue?a629","webpack:///./src/components/repo/List.vue?a951","webpack:///./src/components/repo/PackDisplay.vue","webpack:///./src/components/toolbox/tools/character-pack-sanitizer.ts","webpack:///./src/components/repo/PackDisplay.vue?333e","webpack:///./src/components/repo/PackDisplay.vue?e5d2","webpack:///./src/components/repo/layouts/SingleBox.vue?1778","webpack:///./src/components/repo/layouts/SingleBox.vue?f036"],"names":["class","keydownHandler","selected","ref","search","disabled","focusListHandler","$emit","repo","onSelect","$refs","searchBar","focus","show-back","leavePackDisplay","message","onUpdate","$event","dontCloseHelp","showHelp","debounce","props","type","Boolean","default","modelValue","String","data","debounceTimeout","lastSend","methods","this","input","documentClickHandler","event","key","preventDefault","stopPropagation","updateInternalValue","clearTimeout","setTimeout","doUpdate","div","document","createElement","innerHTML","innerText","mounted","body","addEventListener","unmounted","removeEventListener","watch","render","__scopeId","header","idx","tabindex","sortBy","headerKeydownListener","sort","desc","name","tag","updateFocusedItem","list","pack","id","focusedItem","characters","join","kind","authors","translatePackState","availablePrefixes","prefixLookup","Map","prefix","i","length","short","slice","set","spaceMatcher","parseSearchwords","str","matchers","word","quote","escape","finishWord","push","payload","toLowerCase","char","lowerWord","has","get","test","matchCost","optimize","sortByCost","deduplicateMatchers","a","b","splitByType","matcher","keys","value","quickDeprefix","localeCompare","filter","ary","startsWith","find","collision","collIdx","indexOf","specializedTypes","Array","from","typeKey","competingMatcher","values","flatMap","x","EngineMatcher","replace","matchingProps","Set","searchText","engines","add","matchingProp","map","searchTerm","prop","AuthorMatcher","peopleRepository","matchingAuthors","authorKey","Object","prototype","hasOwnProperty","call","author","size","CharacterMatcher","_peopleRepository","packRepository","matchingCharacters","getUniqueCharacters","character","unique","uniqueCharacters","TypeMatcher","matchingTypes","types","PackMatcher","triplets","getTriplets","substr","isImpossible","searchWords","tripletCache","splitTriplets","cache","AllMatcher","allMatchers","compiler","match","CompilerMatch","compile","packs","parsed","optimized","compiled","every","pageKeyMoveBy","required","wordCache","computed","getPacks","filtered","filterList","sortFunc","oldSort","listById","tbody","$el","findIndex","console","log","source","newIdx","max","headerId","$nextTick","element","querySelector","containerHeight","offsetHeight","scrollTop","scrollBottom","itemTop","offsetTop","itemBottom","by","getAuthors","state","loaded","installed","style","backgroundImage","showBack","disclaimer","sanitize","to","addable","removable","remove","installable","install","uninstallable","uninstall","autoloadEnabled","label","autoload","authorId","authorName","authorsLinks","link","target","title","platform","src","icon","height","width","description","allowedTags","allowedAttributes","img","schemaLimitedAttributes","allowedSchemas","enforceAttributes","rel","html","retDoc","doc","childNodes","node","sanitizeElement","sanitizedNode","appendChild","protocolMatcher","nodeType","Node","ELEMENT_NODE","el","tagName","includes","newEl","attrs","attributes","allowedAttrs","attr","protocolMatch","setAttribute","getAttribute","enforce","attrName","children","childNode","subNodes","subNode","ret","createTextNode","concat","linkablePlatforms","components","L","Toggle","require","getPack","preview","environment","supports","localRepo","autoLoading","autoAdd","val","autoLoadAdd","autoLoadRemove","toFocus","getAuthor","currentName","toUpperCase","credits","JSON","parse","stringify","autoloading","online","localRepoInstall","dddg2Path","dddg1Path","localRepoUninstall","$store","dispatch","SearchBar","List","PackDisplay","setSearch","moveFocus","dialog","created","getInstance"],"mappings":"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","file":"js/chunk-f6c4e426.e497202e.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./SingleBox.vue?vue&type=style&index=0&id=1d4fc890&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./List.vue?vue&type=style&index=0&id=7019b45c&scoped=true&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./PackDisplay.vue?vue&type=style&index=1&id=03278f14&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./PackDisplay.vue?vue&type=style&index=0&id=03278f14&scoped=true&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./SearchBar.vue?vue&type=style&index=0&id=6c14b557&scoped=true&lang=scss\"","<template>\n\t<div class=\"pages\" @keydown=\"keydownHandler\">\n\t\t<div class=\"page fly-left\" :class=\"{ blured: selected }\" v-if=\"!selected\">\n\t\t\t<search-bar\n\t\t\t\tclass=\"search-bar\"\n\t\t\t\tref=\"searchBar\"\n\t\t\t\tv-model=\"search\"\n\t\t\t\t:disabled=\"!!selected\"\n\t\t\t\t@focus-list=\"focusListHandler\"\n\t\t\t\t@leave=\"$emit('leave')\"\n\t\t\t/>\n\t\t\t<list\n\t\t\t\tclass=\"list\"\n\t\t\t\tref=\"list\"\n\t\t\t\t:search=\"search\"\n\t\t\t\t:repo=\"repo\"\n\t\t\t\t:disabled=\"!!selected\"\n\t\t\t\t@selected=\"onSelect\"\n\t\t\t\t@select-search-bar=\"$refs.searchBar.focus()\"\n\t\t\t/>\n\t\t</div>\n\t\t<div class=\"page fly-right\" v-if=\"selected\">\n\t\t\t<pack-display\n\t\t\t\tref=\"dialog\"\n\t\t\t\tclass=\"pack-display\"\n\t\t\t\t:repo=\"repo\"\n\t\t\t\t:selected=\"selected\"\n\t\t\t\tshow-back\n\t\t\t\t@leave=\"leavePackDisplay\"\n\t\t\t/>\n\t\t</div>\n\t</div>\n</template>\n\n<script lang=\"ts\">\n/* tslint:disable:no-bitwise */\nimport { IAuthors } from '@edave64/dddg-repo-filters/dist/authors';\nimport { IPack } from '@edave64/dddg-repo-filters/dist/pack';\nimport SearchBar from '../SearchBar.vue';\nimport List from '../List.vue';\nimport { SelectedEvent, IPackWithState, PackStates } from '../types';\nimport PackDisplay from '../PackDisplay.vue';\nimport environment from '@/environments/environment';\nimport { defineComponent } from 'vue';\nimport { Pack, Repo } from '@/models/repo';\nimport { DeepReadonly } from '@/util/readonly';\n\nconst repoUrl = 'https://edave64.github.io/Doki-Doki-Dialog-Generator-Packs/';\n\nexport default defineComponent({\n\tcomponents: {\n\t\tSearchBar,\n\t\tList,\n\t\tPackDisplay,\n\t},\n\tdata: () => ({\n\t\tsearch: '',\n\t\tpacks: [] as DeepReadonly<Pack[]>,\n\t\tauthors: {} as IAuthors,\n\t\trepo: null as null | Repo,\n\t\tselected: null as string | null,\n\t}),\n\tmethods: {\n\t\tfocus(): void {},\n\t\tsetSearch(str: string): void {\n\t\t\tthis.selected = null;\n\t\t\tthis.search = str;\n\t\t},\n\t\tleavePackDisplay(moveFocus: boolean) {\n\t\t\tthis.selected = null;\n\t\t\tif (moveFocus) {\n\t\t\t\tthis.$nextTick(() => {\n\t\t\t\t\t(this.$refs.searchBar as any).focus();\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tkeydownHandler(event: KeyboardEvent) {\n\t\t\tif (event.key === 'Escape') {\n\t\t\t\tthis.selected = '';\n\t\t\t\tthis.$nextTick(() => {\n\t\t\t\t\t(this.$refs.searchBar as any).focus();\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tonSelect({ id, source }: SelectedEvent) {\n\t\t\tthis.selected = id;\n\t\t\tif (source === 'keyboard') {\n\t\t\t\tthis.$nextTick(() => {\n\t\t\t\t\tconst dialog = this.$refs.dialog as any;\n\t\t\t\t\tdialog.focus();\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tfocusListHandler() {\n\t\t\t(this.$refs.list as any).focus();\n\t\t},\n\t},\n\tasync created() {\n\t\tconst repo = await Repo.getInstance();\n\t\tthis.repo = repo;\n\t\tthis.packs = repo.getPacks();\n\t\tthis.authors = repo.getAuthors();\n\t},\n});\n</script>\n\n<style lang=\"scss\" scoped>\n.list {\n\tz-index: 0;\n}\n\n.search-bar {\n\tz-index: 1;\n}\n\n.pages,\n.page {\n\theight: 100%;\n\twidth: 100%;\n}\n\n.fly-right.fly-enter {\n\ttransform: translate(0, 0);\n}\n\n.fly-right.fly-enter-active {\n\ttransition: transform 1s;\n\ttransform: translate(-100%, 0);\n}\n\n.fly-right.fly-leave {\n\ttransform: translate(0, 0);\n}\n\n.fly-right.fly-leave-active {\n\ttransition: transform 20s;\n\ttransform: translate(-100%, 0);\n}\n\n.fly-left.fly-enter {\n\ttransform: translate(0, 0);\n}\n\n.fly-left.fly-enter-active {\n\ttransition: transform 1s;\n\ttransform: translate(100%, 0);\n}\n\n.fly-left.fly-leave {\n\ttransform: translate(0, 0);\n}\n\n.fly-left.fly-leave-active {\n\ttransition: transform 20s;\n\ttransform: translate(100%, 0);\n}\n</style>\n","<template>\n\t<div class=\"search-area\">\n\t\t<div class=\"search-bar\">\n\t\t\t<input\n\t\t\t\tclass=\"input\"\n\t\t\t\tref=\"input\"\n\t\t\t\tv-model=\"message\"\n\t\t\t\t:disabled=\"disabled\"\n\t\t\t\t@input=\"onUpdate\"\n\t\t\t\t@click=\"$event.dontCloseHelp = true\"\n\t\t\t\t@keydown=\"keydownHandler\"\n\t\t\t/>\n\t\t\t<button\n\t\t\t\t:class=\"{ help: true, toggled: showHelp }\"\n\t\t\t\t:disabled=\"disabled\"\n\t\t\t\t@click.stop=\"\n\t\t\t\t\tshowHelp = !showHelp;\n\t\t\t\t\t$event.dontCloseHelp = true;\n\t\t\t\t\"\n\t\t\t>\n\t\t\t\t<i class=\"material-icons\">info</i>\n\t\t\t</button>\n\t\t\t<button class=\"exit-button\" @click=\"$emit('leave', true)\">\n\t\t\t\t<i class=\"material-icons\">clear</i>\n\t\t\t</button>\n\t\t</div>\n\t\t<div class=\"info-area\" v-if=\"showHelp\" @click=\"$event.dontCloseHelp = true\">\n\t\t\t<p>Enter the text you want to search for. E.g. <code>Monika</code></p>\n\t\t\t<p>\n\t\t\t\tIf multiple words are given, each word must be found. E.g.\n\t\t\t\t<code>Monika Pose</code>\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\tTo search phrases with spaces, surround them with double quotes. E.g.\n\t\t\t\t<code>\"Monika R63\" Pose</code>\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\tTo limit your search to specific attributes of a pack, you can use the\n\t\t\t\tfollowing prefixes:\n\t\t\t</p>\n\t\t\t<table>\n\t\t\t\t<tr>\n\t\t\t\t\t<th>Prefix</th>\n\t\t\t\t\t<th>Description</th>\n\t\t\t\t\t<th>Example</th>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td>Character:</td>\n\t\t\t\t\t<td></td>\n\t\t\t\t\t<td><code>Character: Monika</code></td>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td>Artist:</td>\n\t\t\t\t\t<td></td>\n\t\t\t\t\t<td><code>Artist: edave64</code></td>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td>Type:</td>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t<code>Backgrounds</code>, <code>Sprites</code>,\n\t\t\t\t\t\t<code>Expressions</code>, <code>Styles</code>, <code>Poses</code> or\n\t\t\t\t\t\t<code>Characters</code>\n\t\t\t\t\t</td>\n\t\t\t\t\t<td><code>Type: Poses</code></td>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td>Engine:</td>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t<code>Doki Doki Dialog Generator</code>, <code>DDDG</code> or\n\t\t\t\t\t\t<code>Doki Doki Comic Club</code>, <code>DDCC</code>\n\t\t\t\t\t</td>\n\t\t\t\t\t<td><code>Engine: DDCC</code></td>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td>Pack:</td>\n\t\t\t\t\t<td>The pack itself must contain the text</td>\n\t\t\t\t\t<td><code>Pack: Angry</code></td>\n\t\t\t\t</tr>\n\t\t\t</table>\n\n\t\t\t<p>\n\t\t\t\tPrefixes can be shorted, so <code>Character: Monika</code> can be\n\t\t\t\tshortend to <code>C: Monika</code>\n\t\t\t</p>\n\t\t</div>\n\t</div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from 'vue';\n\nconst debounce = 250;\n\nexport default defineComponent({\n\tprops: {\n\t\tdisabled: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\tmodelValue: {\n\t\t\ttype: String,\n\t\t\tdefault: '',\n\t\t},\n\t},\n\tdata: () => ({\n\t\tshowHelp: false,\n\t\tmessage: '',\n\t\tdebounceTimeout: null as number | null,\n\t\tlastSend: '',\n\t}),\n\tmethods: {\n\t\tfocus() {\n\t\t\t(this.$refs.input as HTMLElement).focus();\n\t\t},\n\t\tdocumentClickHandler(event: MouseEvent & { dontCloseHelp?: boolean }) {\n\t\t\tif (event.dontCloseHelp) return;\n\t\t\tthis.showHelp = false;\n\t\t},\n\t\tkeydownHandler(event: KeyboardEvent) {\n\t\t\tif (event.key === 'ArrowDown') {\n\t\t\t\tthis.$emit('focus-list');\n\t\t\t\tevent.preventDefault();\n\t\t\t\tevent.stopPropagation();\n\t\t\t}\n\t\t},\n\t\tupdateInternalValue() {\n\t\t\tif (this.lastSend === this.modelValue) {\n\t\t\t\tthis.lastSend = '';\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.message = this.modelValue;\n\t\t},\n\t\tonUpdate() {\n\t\t\tif (this.debounceTimeout) clearTimeout(this.debounceTimeout);\n\t\t\tthis.debounceTimeout = setTimeout(this.doUpdate, debounce);\n\t\t},\n\t\tdoUpdate() {\n\t\t\tif (this.debounceTimeout) clearTimeout(this.debounceTimeout);\n\t\t\tthis.debounceTimeout = null;\n\t\t\tconst div = document.createElement('div');\n\t\t\tdiv.innerHTML = this.message;\n\t\t\tthis.lastSend = div.innerText;\n\t\t\tthis.$emit('update:modelValue', div.innerText);\n\t\t},\n\t},\n\tmounted() {\n\t\tdocument.body.addEventListener('click', this.documentClickHandler);\n\t\tthis.updateInternalValue();\n\t},\n\tunmounted() {\n\t\tdocument.body.removeEventListener('click', this.documentClickHandler);\n\t},\n\twatch: {\n\t\tmodelValue() {\n\t\t\tthis.updateInternalValue();\n\t\t},\n\t},\n});\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped lang=\"scss\">\nh3 {\n\tmargin: 40px 0 0;\n}\nul {\n\tlist-style-type: none;\n\tpadding: 0;\n}\nli {\n\tdisplay: inline-block;\n\tmargin: 0 10px;\n}\na {\n\tcolor: #42b983;\n}\n\n.exit-button {\n\theight: 42px;\n\twidth: 40px;\n\tborder-left: none;\n\tbackground-position: center center;\n\tbackground-repeat: no-repeat;\n\tbackground-size: contain;\n}\n\n.search-bar {\n\tmargin: 4px;\n\twidth: calc(100% - 8px);\n\tdisplay: flex;\n}\n\n.info-area {\n\tposition: absolute;\n\ttop: 48px;\n\tleft: 8px;\n\tright: 8px;\n\tz-index: 2;\n\tborder: 2px solid $default-border;\n\tborder: 2px solid var(--border);\n\tbackground-color: $default-native-background;\n\tbackground-color: var(--native-background);\n\tmax-height: calc(100vh - 56px);\n\toverflow: auto;\n\tbox-shadow: 0px 2px 4px 4px rgba(255, 189, 225, 1);\n\n\tcode {\n\t\tpadding: 2px;\n\t\tbackground: $default-accent-background;\n\t\tbackground: var(--accent-background);\n\t\tfont-family: monospace;\n\t\twhite-space: nowrap;\n\t}\n}\n\n.help {\n\theight: 42px;\n\twidth: 40px;\n\tborder: 2px solid $default-border;\n\tborder: 2px solid var(--border);\n\tborder-left: 0;\n\n\t&.toggled {\n\t\tbackground-color: $default-border;\n\t\tbackground-color: var(--border);\n\t}\n}\n\n.input {\n\tdisplay: block;\n\twidth: calc(100% - 40px);\n\tborder: 2px solid $default-border;\n\tborder: 2px solid var(--border);\n\tpadding: 8px;\n\theight: 42px;\n\toverflow: hidden;\n\twhite-space: nowrap;\n\tbackground: $default-accent-background url(./search.svg);\n\tbackground: var(--accent-background) url(./search.svg);\n\tbackground-repeat: no-repeat;\n\tbackground-size: contain;\n\tbackground-position: right center;\n\tpadding-right: 64px;\n}\n\n.suggestions {\n\tborder: 2px black solid;\n\tborder-top: 0;\n\tbackground: $default-native-background;\n\tbackground: var(--native-background);\n\n\t.suggestion {\n\t\tborder: 0;\n\t\tline-height: 24px;\n\t\tpadding: 4px;\n\t}\n\t.suggestion {\n\t\tborder: 0;\n\t\tline-height: 24px;\n\t\tpadding: 4px;\n\t\tborder-radius: 4px;\n\n\t\t.primary {\n\t\t\tfont-weight: bolder;\n\t\t}\n\n\t\t.secondary {\n\t\t\tcolor: #222;\n\t\t}\n\n\t\t&.active {\n\t\t\tbackground: cyan;\n\t\t}\n\n\t\t&:hover {\n\t\t\tbackground: lightcyan;\n\t\t}\n\t}\n}\n</style>\n","\nimport { defineComponent } from 'vue';\n\nconst debounce = 250;\n\nexport default defineComponent({\n\tprops: {\n\t\tdisabled: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\tmodelValue: {\n\t\t\ttype: String,\n\t\t\tdefault: '',\n\t\t},\n\t},\n\tdata: () => ({\n\t\tshowHelp: false,\n\t\tmessage: '',\n\t\tdebounceTimeout: null as number | null,\n\t\tlastSend: '',\n\t}),\n\tmethods: {\n\t\tfocus() {\n\t\t\t(this.$refs.input as HTMLElement).focus();\n\t\t},\n\t\tdocumentClickHandler(event: MouseEvent & { dontCloseHelp?: boolean }) {\n\t\t\tif (event.dontCloseHelp) return;\n\t\t\tthis.showHelp = false;\n\t\t},\n\t\tkeydownHandler(event: KeyboardEvent) {\n\t\t\tif (event.key === 'ArrowDown') {\n\t\t\t\tthis.$emit('focus-list');\n\t\t\t\tevent.preventDefault();\n\t\t\t\tevent.stopPropagation();\n\t\t\t}\n\t\t},\n\t\tupdateInternalValue() {\n\t\t\tif (this.lastSend === this.modelValue) {\n\t\t\t\tthis.lastSend = '';\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.message = this.modelValue;\n\t\t},\n\t\tonUpdate() {\n\t\t\tif (this.debounceTimeout) clearTimeout(this.debounceTimeout);\n\t\t\tthis.debounceTimeout = setTimeout(this.doUpdate, debounce);\n\t\t},\n\t\tdoUpdate() {\n\t\t\tif (this.debounceTimeout) clearTimeout(this.debounceTimeout);\n\t\t\tthis.debounceTimeout = null;\n\t\t\tconst div = document.createElement('div');\n\t\t\tdiv.innerHTML = this.message;\n\t\t\tthis.lastSend = div.innerText;\n\t\t\tthis.$emit('update:modelValue', div.innerText);\n\t\t},\n\t},\n\tmounted() {\n\t\tdocument.body.addEventListener('click', this.documentClickHandler);\n\t\tthis.updateInternalValue();\n\t},\n\tunmounted() {\n\t\tdocument.body.removeEventListener('click', this.documentClickHandler);\n\t},\n\twatch: {\n\t\tmodelValue() {\n\t\t\tthis.updateInternalValue();\n\t\t},\n\t},\n});\n","import { render } from \"./SearchBar.vue?vue&type=template&id=6c14b557&scoped=true\"\nimport script from \"./SearchBar.vue?vue&type=script&lang=ts\"\nexport * from \"./SearchBar.vue?vue&type=script&lang=ts\"\n\nimport \"./SearchBar.vue?vue&type=style&index=0&id=6c14b557&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-6c14b557\"\n\nexport default script","<template>\n\t<div class=\"list\">\n\t\t<table>\n\t\t\t<thead>\n\t\t\t\t<tr ref=\"header\">\n\t\t\t\t\t<th\n\t\t\t\t\t\tv-for=\"(header, idx) of [\n\t\t\t\t\t\t\t['name', 'Pack'],\n\t\t\t\t\t\t\t['characters', 'Character'],\n\t\t\t\t\t\t\t['kind', 'Type'],\n\t\t\t\t\t\t\t['authors', 'Authors'],\n\t\t\t\t\t\t\t['state', 'Status'],\n\t\t\t\t\t\t]\"\n\t\t\t\t\t\t:key=\"idx\"\n\t\t\t\t\t\t:tabindex=\"disabled ? -1 : 0\"\n\t\t\t\t\t\t@click=\"sortBy(header[0])\"\n\t\t\t\t\t\t@keydown=\"headerKeydownListener($event, header[0])\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div>{{ header[1] }}</div>\n\t\t\t\t\t\t\t<div v-if=\"sort === header[0]\">{{ desc ? '▼' : '▲' }}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</th>\n\t\t\t\t</tr>\n\t\t\t</thead>\n\t\t\t<transition-group\n\t\t\t\tname=\"tbody-group\"\n\t\t\t\ttag=\"tbody\"\n\t\t\t\tref=\"tbody\"\n\t\t\t\t:tabindex=\"disabled ? -1 : 0\"\n\t\t\t\t@keydown=\"keydownHandler\"\n\t\t\t\t@focus=\"updateFocusedItem\"\n\t\t\t>\n\t\t\t\t<tr\n\t\t\t\t\tv-for=\"pack of list\"\n\t\t\t\t\t:key=\"pack.id\"\n\t\t\t\t\t:class=\"{\n\t\t\t\t\t\t'tbody-group-item': true,\n\t\t\t\t\t\tfocused: focusedItem === pack.id,\n\t\t\t\t\t}\"\n\t\t\t\t\t@mousedown=\"focusedItem = pack.id\"\n\t\t\t\t\t@click=\"$emit('selected', { id: pack.id, source: 'pointer' })\"\n\t\t\t\t>\n\t\t\t\t\t<td>{{ pack.name }}</td>\n\t\t\t\t\t<td>{{ pack.characters.join(', ') }}</td>\n\t\t\t\t\t<td>{{ pack.kind.join(', ') }}</td>\n\t\t\t\t\t<td>{{ pack.authors.join(', ') }}</td>\n\t\t\t\t\t<td>{{ translatePackState(pack) }}</td>\n\t\t\t\t</tr>\n\t\t\t</transition-group>\n\t\t</table>\n\t</div>\n</template>\n\n<script lang=\"ts\">\nimport { IPack } from '@edave64/dddg-repo-filters/dist/pack';\nimport run from '@edave64/dddg-repo-filters/dist/main';\nimport { defineComponent, PropType } from 'vue';\nimport { Pack, Repo } from '@/models/repo';\nimport { DeepReadonly } from '@/util/readonly';\n\nconst pageKeyMoveBy = 10;\n\nexport default defineComponent({\n\tprops: {\n\t\tsearch: { type: String, required: true },\n\t\trepo: {\n\t\t\ttype: Object as PropType<Repo>,\n\t\t},\n\t\tdisabled: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t},\n\tdata: () => ({\n\t\tsort: '' as keyof IPack | '',\n\t\tdesc: false,\n\t\tfocusedItem: '',\n\t\twordCache: {} as { [id: string]: Set<string> },\n\t}),\n\tcomputed: {\n\t\tpacks(): DeepReadonly<Pack[]> {\n\t\t\tif (!this.repo) return [];\n\t\t\treturn this.repo.getPacks();\n\t\t},\n\t\tlist(): DeepReadonly<Pack[]> {\n\t\t\tconst filtered = this.filterList(this.packs, this.search);\n\t\t\tif (this.sort && filtered.length > 0) {\n\t\t\t\tconst sort = this.sort as keyof IPack;\n\t\t\t\tlet sortFunc:\n\t\t\t\t\t| ((a: DeepReadonly<IPack>, b: DeepReadonly<IPack>) => number)\n\t\t\t\t\t| undefined;\n\t\t\t\tif (typeof filtered[0][sort] === 'string') {\n\t\t\t\t\tsortFunc = (a, b) => a.name.localeCompare(b.name);\n\t\t\t\t} else if (filtered[0][sort] instanceof Array) {\n\t\t\t\t\tsortFunc = (a, b) =>\n\t\t\t\t\t\t(a as any)[sort]\n\t\t\t\t\t\t\t.join(', ')\n\t\t\t\t\t\t\t.localeCompare((b as any)[sort].join(', '));\n\t\t\t\t}\n\t\t\t\tif (sortFunc) {\n\t\t\t\t\tif (this.desc) {\n\t\t\t\t\t\tconst oldSort = sortFunc;\n\t\t\t\t\t\tsortFunc = (b, a) => oldSort(a, b);\n\t\t\t\t\t}\n\t\t\t\t\tfiltered.sort(sortFunc);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn filtered;\n\t\t},\n\t\tlistById(): DeepReadonly<Map<string, IPack>> {\n\t\t\treturn new Map(this.packs.map(pack => [pack.id, pack]));\n\t\t},\n\t\tuniqueCharacters(): string[] {\n\t\t\treturn Array.from(\n\t\t\t\tnew Set(\n\t\t\t\t\tthis.packs.flatMap(pack =>\n\t\t\t\t\t\tpack.characters.map(char => char.toLowerCase())\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t);\n\t\t},\n\t},\n\tmethods: {\n\t\tfocus(): void {\n\t\t\t((this.$refs.tbody as any).$el as HTMLElement).focus();\n\t\t},\n\t\tkeydownHandler(event: KeyboardEvent) {\n\t\t\tconst indexOf = this.list.findIndex(pack => pack.id === this.focusedItem);\n\t\t\tconsole.log(indexOf);\n\t\t\tswitch (event.key) {\n\t\t\t\tcase 'Enter':\n\t\t\t\t\tthis.$emit('selected', { id: this.focusedItem, source: 'keyboard' });\n\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'ArrowUp':\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\tif (indexOf === 0) {\n\t\t\t\t\t\tthis.$emit('select-search-bar');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.focusedItem = this.list[indexOf - 1].id;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'ArrowDown':\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\tif (indexOf < this.list.length - 1) {\n\t\t\t\t\t\tthis.focusedItem = this.list[indexOf + 1].id;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'PageUp': {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\tlet newIdx = indexOf - pageKeyMoveBy;\n\t\t\t\t\tif (newIdx < 0) {\n\t\t\t\t\t\tnewIdx = 0;\n\t\t\t\t\t}\n\t\t\t\t\tthis.focusedItem = this.list[newIdx].id;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase 'PageDown': {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\tlet newIdx = indexOf + pageKeyMoveBy;\n\t\t\t\t\tconst max = this.list.length - 1;\n\t\t\t\t\tif (newIdx > max) {\n\t\t\t\t\t\tnewIdx = max;\n\t\t\t\t\t}\n\t\t\t\t\tthis.focusedItem = this.list[newIdx].id;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\theaderKeydownListener(event: KeyboardEvent, headerId: keyof IPack) {\n\t\t\tswitch (event.key) {\n\t\t\t\tcase 'Enter':\n\t\t\t\tcase ' ':\n\t\t\t\t\tthis.sortBy(headerId);\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'ArrowDown':\n\t\t\t\t\tthis.focus();\n\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'ArrowUp':\n\t\t\t\t\tthis.$emit('select-search-bar');\n\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t},\n\t\tupdateFocusedItem() {\n\t\t\tif (this.list.length === 0) {\n\t\t\t\tthis.focusedItem = '';\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.focusedItem === '') {\n\t\t\t\tthis.focusedItem = this.list[0].id;\n\t\t\t}\n\n\t\t\tthis.$nextTick(() => {\n\t\t\t\tconst header = this.$refs.header as HTMLElement;\n\t\t\t\tconst element = document.querySelector(\n\t\t\t\t\t'.list tbody .focused'\n\t\t\t\t) as HTMLDivElement;\n\n\t\t\t\tconst containerHeight =\n\t\t\t\t\t(this.$el as HTMLElement).offsetHeight - header.offsetHeight;\n\t\t\t\tconst scrollTop = this.$el.scrollTop;\n\t\t\t\tconst scrollBottom = scrollTop + containerHeight;\n\n\t\t\t\tif (element) {\n\t\t\t\t\tconst itemTop = element.offsetTop - header.offsetHeight;\n\t\t\t\t\tconst itemBottom = itemTop + element.offsetHeight;\n\n\t\t\t\t\tif (itemBottom > scrollBottom) {\n\t\t\t\t\t\tthis.$el.scrollTop = itemBottom - containerHeight;\n\t\t\t\t\t} else if (itemTop < scrollTop) {\n\t\t\t\t\t\tthis.$el.scrollTop = itemTop;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tsortBy(by: keyof IPack) {\n\t\t\tif (this.sort === by) {\n\t\t\t\tif (!this.desc) {\n\t\t\t\t\tthis.desc = true;\n\t\t\t\t} else {\n\t\t\t\t\tthis.sort = '';\n\t\t\t\t\tthis.desc = false;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.sort = by;\n\t\t\t\tthis.desc = false;\n\t\t\t}\n\t\t},\n\t\tfilterList(\n\t\t\tlist: DeepReadonly<Array<Pack>>,\n\t\t\tsearch: string\n\t\t): Array<DeepReadonly<Pack>> {\n\t\t\tif (!search) return [...list];\n\t\t\treturn run(\n\t\t\t\tsearch,\n\t\t\t\tthis.repo ? this.repo!.getAuthors() : {},\n\t\t\t\tlist as any\n\t\t\t) as Pack[];\n\t\t},\n\t\ttranslatePackState(state: Pack) {\n\t\t\tif (state.loaded) return 'Active';\n\t\t\tif (state.installed) return 'Installed';\n\t\t\treturn '';\n\t\t},\n\t},\n\twatch: {\n\t\tfocusedItem() {\n\t\t\tthis.updateFocusedItem();\n\t\t},\n\t},\n});\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped lang=\"scss\">\n.list {\n\twidth: 100%;\n\theight: calc(100% - 64px);\n\toverflow: auto;\n\tdisplay: flex;\n\tflex-direction: column;\n}\n\n.tbody-group-item {\n\topacity: 1;\n\ttransition: all 0.15s;\n}\n.tbody-group-enter, .list-leave-to /* .list-leave-active below version 2.1.8 */ {\n\topacity: 0;\n}\n\n.spacer {\n\tflex-grow: 1;\n}\ntable {\n\ttext-align: left;\n\tborder-collapse: collapse;\n\tmin-width: 100%;\n\tuser-select: none;\n\tcolor: $default-text;\n\tcolor: var(--text);\n\t.focused {\n\t\tbackground: $default-accent-background;\n\t\tbackground: var(--accent-background);\n\t}\n}\ntbody:focus {\n\toutline: 0;\n\t.focused {\n\t\tbackground: $default-border;\n\t\tbackground: var(--border);\n\t}\n}\ntr:hover,\nth:hover {\n\tbackground: $default-accent-background;\n\tbackground: var(--accent-background);\n\tcursor: pointer;\n}\nth,\ntd {\n\tpadding: 0.25rem;\n\tmin-height: 42px;\n}\nth {\n\tbackground: $default-native-background;\n\tbackground: var(--native-background);\n\tposition: sticky;\n\ttop: 0;\n\tcolor: $default-text;\n\tcolor: var(--text);\n\tbox-shadow: 0 2px 2px -1px $default-text;\n\tbox-shadow: 0 2px 2px -1px var(--text);\n\n\t> div {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t}\n}\nfooter {\n\tpadding-top: 8px;\n\tcolor: #444;\n}\n</style>\n","const availablePrefixes = ['author', 'character', 'type', 'pack', 'engine'];\nconst prefixLookup = new Map();\nfor (const prefix of availablePrefixes) {\n    for (let i = 1; i <= prefix.length; ++i) {\n        const short = prefix.slice(0, i);\n        prefixLookup.set(short, prefix);\n    }\n}\nconst spaceMatcher = /\\s/;\nexport default function parseSearchwords(str) {\n    const matchers = [];\n    let word = '';\n    let type = '';\n    let quote = false;\n    let escape = false;\n    function finishWord() {\n        matchers.push({\n            type: type || 'all',\n            payload: word.toLowerCase(),\n        });\n        word = '';\n        type = '';\n        escape = false;\n        quote = false;\n    }\n    for (const char of str) {\n        if (escape) {\n            word += char;\n            escape = false;\n            continue;\n        }\n        switch (char) {\n            case '\\\\':\n                escape = true;\n                continue;\n            case ':':\n                // eslint-disable-next-line no-case-declarations\n                const lowerWord = word.toLowerCase();\n                if (!quote && type === '' && prefixLookup.has(lowerWord)) {\n                    type = prefixLookup.get(lowerWord);\n                    word = '';\n                    continue;\n                }\n                break;\n            case '\"':\n                if (quote) {\n                    finishWord();\n                }\n                else {\n                    quote = true;\n                }\n                continue;\n        }\n        if (!quote && spaceMatcher.test(char)) {\n            if (word) {\n                finishWord();\n            }\n        }\n        else {\n            word += char;\n        }\n    }\n    if (word)\n        finishWord();\n    return matchers;\n}\n","const matchCost = new Map([\n    // static property equals\n    ['engine', 0],\n    // search on pack properties\n    ['pack', 1],\n    // find in array\n    ['type', 2],\n    ['character', 2],\n    ['author', 2],\n    // mayhem\n    ['all', 3],\n]);\nexport default function optimize(matchers) {\n    return sortByCost(deduplicateMatchers(matchers));\n}\nexport function sortByCost(matchers) {\n    return matchers.sort((a, b) => matchCost.get(a.type) - matchCost.get(b.type) ||\n        b.payload.length - a.payload.length);\n}\n/**\n * @private\n */\nexport function deduplicateMatchers(matchers) {\n    const splitByType = new Map();\n    for (const matcher of matchers) {\n        let list = splitByType.get(matcher.type);\n        if (!list) {\n            list = [];\n            splitByType.set(matcher.type, list);\n        }\n        list.push(matcher);\n    }\n    for (const key of splitByType.keys()) {\n        const value = splitByType.get(key);\n        const quickDeprefix = value\n            .sort((a, b) => a.payload.localeCompare(b.payload))\n            .filter((matcher, idx, ary) => {\n            if (!ary[idx + 1])\n                return true;\n            return !ary[idx + 1].payload.startsWith(matcher.payload);\n        });\n        splitByType.set(key, quickDeprefix.filter((matcher, idx, ary) => {\n            return !ary.find((collision, collIdx) => collIdx !== idx && collision.payload.indexOf(matcher.payload) !== -1);\n        }));\n    }\n    const specializedTypes = Array.from(splitByType.keys()).filter(type => type !== 'all');\n    splitByType.set('all', (splitByType.get('all') || []).filter(matcher => {\n        return !specializedTypes.find(typeKey => splitByType\n            .get(typeKey)\n            .find(competingMatcher => competingMatcher.payload.indexOf(matcher.payload) !== -1));\n    }));\n    return [...splitByType.values()].flatMap(x => x);\n}\n","class EngineMatcher {\n    constructor(payload) {\n        payload = payload.replace(/[\\s-]/g, '').toLowerCase();\n        const matchingProps = new Set();\n        for (const [searchText, key] of EngineMatcher.engines) {\n            if (searchText.toLowerCase().indexOf(payload) >= 0) {\n                matchingProps.add(key);\n            }\n        }\n        this.matchingProps = Array.from(matchingProps);\n    }\n    get isImpossible() {\n        return this.matchingProps.length === 0;\n    }\n    match(pack) {\n        for (const matchingProp of this.matchingProps) {\n            if (pack[matchingProp])\n                return true;\n        }\n        return false;\n    }\n}\nEngineMatcher.engines = [\n    ['Doki Doki Dialog Generator 1', 'dddg1Path'],\n    ['Doki Doki Dialouge Generator 1', 'dddg1Path'],\n    ['DDDG1', 'dddg1Path'],\n    ['Doki Doki Dialog Generator 2', 'dddg2Path'],\n    ['Doki Doki Dialouge Generator 2', 'dddg2Path'],\n    ['DDDG2', 'dddg2Path'],\n    ['Doki Doki Comic Club 2', 'ddcc2Path'],\n    ['DDCC2', 'ddcc2Path'],\n].map(([searchTerm, prop]) => [\n    searchTerm.replace(/\\s/g, '').toLowerCase(),\n    prop,\n]);\nclass AuthorMatcher {\n    constructor(payload, peopleRepository) {\n        payload = payload.toLowerCase();\n        const matchingAuthors = new Set();\n        for (const authorKey in peopleRepository) {\n            /* istanbul ignore next */\n            if (!Object.prototype.hasOwnProperty.call(peopleRepository, authorKey))\n                continue;\n            const author = peopleRepository[authorKey];\n            const props = Object.keys(author);\n            if (authorKey.toLowerCase().indexOf(payload) >= 0 ||\n                props.find(prop => author[prop].toLowerCase().indexOf(payload) >= 0)) {\n                matchingAuthors.add(authorKey);\n            }\n        }\n        this.matchingAuthors = matchingAuthors;\n    }\n    get isImpossible() {\n        return this.matchingAuthors.size === 0;\n    }\n    match(pack) {\n        return !!pack.authors.find(author => this.matchingAuthors.has(author));\n    }\n}\nclass CharacterMatcher {\n    constructor(payload, _peopleRepository, packRepository) {\n        payload = payload.toLowerCase();\n        this.matchingCharacters = new Set(CharacterMatcher.getUniqueCharacters(packRepository).filter(char => char.toLowerCase().indexOf(payload) >= 0));\n    }\n    get isImpossible() {\n        return this.matchingCharacters.size === 0;\n    }\n    match(pack) {\n        return !!pack.characters.find(character => this.matchingCharacters.has(character));\n    }\n    static getUniqueCharacters(repo) {\n        let unique = this.uniqueCharacters.get(repo);\n        if (!unique) {\n            unique = Array.from(new Set(repo.flatMap(pack => pack.characters)));\n            this.uniqueCharacters.set(repo, unique);\n        }\n        return unique;\n    }\n}\nCharacterMatcher.uniqueCharacters = new Map();\nclass TypeMatcher {\n    constructor(payload) {\n        payload = payload.toLowerCase();\n        this.matchingTypes = new Set(TypeMatcher.types.filter(type => type.toLowerCase().indexOf(payload) >= 0));\n    }\n    get isImpossible() {\n        return this.matchingTypes.size === 0;\n    }\n    match(pack) {\n        return !!pack.kind.find(character => this.matchingTypes.has(character));\n    }\n}\nTypeMatcher.types = [\n    'Styles',\n    'Characters',\n    'Expressions',\n    'Poses',\n    'Backgrounds',\n    'Sprites',\n    'Misc',\n];\nclass PackMatcher {\n    constructor(payload, _peopleRepository, packRepository) {\n        payload = payload.toLowerCase();\n        this.payload = payload;\n        const triplets = PackMatcher.getTriplets(packRepository);\n        for (let i = 0, length = payload.length - 2; i < length; ++i) {\n            if (!triplets.has(payload.substr(i, 3))) {\n                this.isImpossible = true;\n                return;\n            }\n        }\n        this.isImpossible = false;\n    }\n    match(pack) {\n        if (this.isImpossible)\n            return false;\n        const payload = this.payload;\n        return !!(pack.id.toLowerCase().indexOf(payload) >= 0 ||\n            pack.name.toLowerCase().indexOf(payload) >= 0 ||\n            pack.searchWords.find(word => word.toLowerCase().indexOf(payload) >= 0));\n    }\n    static getTriplets(repo) {\n        let triplets = this.tripletCache.get(repo);\n        if (!triplets) {\n            triplets = new Set();\n            for (const pack of repo) {\n                PackMatcher.splitTriplets(pack.id, triplets);\n                PackMatcher.splitTriplets(pack.name, triplets);\n                for (const word of pack.searchWords) {\n                    PackMatcher.splitTriplets(word, triplets);\n                }\n            }\n            this.tripletCache.set(repo, triplets);\n        }\n        return triplets;\n    }\n    static splitTriplets(str, cache) {\n        str = str.toLowerCase();\n        for (let i = 0, length = str.length - 2; i < length; ++i) {\n            cache.add(str.substr(i, 3));\n        }\n    }\n}\nPackMatcher.tripletCache = new Map();\nclass AllMatcher {\n    constructor(payload, peopleRepository, packRepository) {\n        this.matchers = AllMatcher.allMatchers\n            .map(compiler => new compiler(payload, peopleRepository, packRepository))\n            .filter(matcher => !matcher.isImpossible);\n    }\n    get isImpossible() {\n        return this.matchers.length === 0;\n    }\n    match(pack) {\n        return !!this.matchers.find(matcher => matcher.match(pack));\n    }\n}\nAllMatcher.allMatchers = [\n    EngineMatcher,\n    AuthorMatcher,\n    CharacterMatcher,\n    TypeMatcher,\n    PackMatcher,\n];\nconst CompilerMatch = new Map([\n    ['all', AllMatcher],\n    ['author', AuthorMatcher],\n    ['character', CharacterMatcher],\n    ['engine', EngineMatcher],\n    ['pack', PackMatcher],\n    ['type', TypeMatcher],\n]);\nexport default function compile(matchers, authors, packs) {\n    return matchers.map(matcher => new (CompilerMatch.get(matcher.type))(matcher.payload, authors, packs));\n}\n","import parse from './parse';\nimport optimize from './optimize';\nimport compile from './compile';\nexport default function filter(search, authors, list) {\n    const parsed = parse(search);\n    const optimized = optimize(parsed);\n    const compiled = compile(optimized, authors, list);\n    if (compiled.find(matcher => matcher.isImpossible))\n        return [];\n    return list.filter(pack => compiled.every(matcher => matcher.match(pack)));\n}\n","\nimport { IPack } from '@edave64/dddg-repo-filters/dist/pack';\nimport run from '@edave64/dddg-repo-filters/dist/main';\nimport { defineComponent, PropType } from 'vue';\nimport { Pack, Repo } from '@/models/repo';\nimport { DeepReadonly } from '@/util/readonly';\n\nconst pageKeyMoveBy = 10;\n\nexport default defineComponent({\n\tprops: {\n\t\tsearch: { type: String, required: true },\n\t\trepo: {\n\t\t\ttype: Object as PropType<Repo>,\n\t\t},\n\t\tdisabled: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t},\n\tdata: () => ({\n\t\tsort: '' as keyof IPack | '',\n\t\tdesc: false,\n\t\tfocusedItem: '',\n\t\twordCache: {} as { [id: string]: Set<string> },\n\t}),\n\tcomputed: {\n\t\tpacks(): DeepReadonly<Pack[]> {\n\t\t\tif (!this.repo) return [];\n\t\t\treturn this.repo.getPacks();\n\t\t},\n\t\tlist(): DeepReadonly<Pack[]> {\n\t\t\tconst filtered = this.filterList(this.packs, this.search);\n\t\t\tif (this.sort && filtered.length > 0) {\n\t\t\t\tconst sort = this.sort as keyof IPack;\n\t\t\t\tlet sortFunc:\n\t\t\t\t\t| ((a: DeepReadonly<IPack>, b: DeepReadonly<IPack>) => number)\n\t\t\t\t\t| undefined;\n\t\t\t\tif (typeof filtered[0][sort] === 'string') {\n\t\t\t\t\tsortFunc = (a, b) => a.name.localeCompare(b.name);\n\t\t\t\t} else if (filtered[0][sort] instanceof Array) {\n\t\t\t\t\tsortFunc = (a, b) =>\n\t\t\t\t\t\t(a as any)[sort]\n\t\t\t\t\t\t\t.join(', ')\n\t\t\t\t\t\t\t.localeCompare((b as any)[sort].join(', '));\n\t\t\t\t}\n\t\t\t\tif (sortFunc) {\n\t\t\t\t\tif (this.desc) {\n\t\t\t\t\t\tconst oldSort = sortFunc;\n\t\t\t\t\t\tsortFunc = (b, a) => oldSort(a, b);\n\t\t\t\t\t}\n\t\t\t\t\tfiltered.sort(sortFunc);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn filtered;\n\t\t},\n\t\tlistById(): DeepReadonly<Map<string, IPack>> {\n\t\t\treturn new Map(this.packs.map(pack => [pack.id, pack]));\n\t\t},\n\t\tuniqueCharacters(): string[] {\n\t\t\treturn Array.from(\n\t\t\t\tnew Set(\n\t\t\t\t\tthis.packs.flatMap(pack =>\n\t\t\t\t\t\tpack.characters.map(char => char.toLowerCase())\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t);\n\t\t},\n\t},\n\tmethods: {\n\t\tfocus(): void {\n\t\t\t((this.$refs.tbody as any).$el as HTMLElement).focus();\n\t\t},\n\t\tkeydownHandler(event: KeyboardEvent) {\n\t\t\tconst indexOf = this.list.findIndex(pack => pack.id === this.focusedItem);\n\t\t\tconsole.log(indexOf);\n\t\t\tswitch (event.key) {\n\t\t\t\tcase 'Enter':\n\t\t\t\t\tthis.$emit('selected', { id: this.focusedItem, source: 'keyboard' });\n\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'ArrowUp':\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\tif (indexOf === 0) {\n\t\t\t\t\t\tthis.$emit('select-search-bar');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.focusedItem = this.list[indexOf - 1].id;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'ArrowDown':\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\tif (indexOf < this.list.length - 1) {\n\t\t\t\t\t\tthis.focusedItem = this.list[indexOf + 1].id;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'PageUp': {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\tlet newIdx = indexOf - pageKeyMoveBy;\n\t\t\t\t\tif (newIdx < 0) {\n\t\t\t\t\t\tnewIdx = 0;\n\t\t\t\t\t}\n\t\t\t\t\tthis.focusedItem = this.list[newIdx].id;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase 'PageDown': {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\tlet newIdx = indexOf + pageKeyMoveBy;\n\t\t\t\t\tconst max = this.list.length - 1;\n\t\t\t\t\tif (newIdx > max) {\n\t\t\t\t\t\tnewIdx = max;\n\t\t\t\t\t}\n\t\t\t\t\tthis.focusedItem = this.list[newIdx].id;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\theaderKeydownListener(event: KeyboardEvent, headerId: keyof IPack) {\n\t\t\tswitch (event.key) {\n\t\t\t\tcase 'Enter':\n\t\t\t\tcase ' ':\n\t\t\t\t\tthis.sortBy(headerId);\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'ArrowDown':\n\t\t\t\t\tthis.focus();\n\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'ArrowUp':\n\t\t\t\t\tthis.$emit('select-search-bar');\n\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t},\n\t\tupdateFocusedItem() {\n\t\t\tif (this.list.length === 0) {\n\t\t\t\tthis.focusedItem = '';\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.focusedItem === '') {\n\t\t\t\tthis.focusedItem = this.list[0].id;\n\t\t\t}\n\n\t\t\tthis.$nextTick(() => {\n\t\t\t\tconst header = this.$refs.header as HTMLElement;\n\t\t\t\tconst element = document.querySelector(\n\t\t\t\t\t'.list tbody .focused'\n\t\t\t\t) as HTMLDivElement;\n\n\t\t\t\tconst containerHeight =\n\t\t\t\t\t(this.$el as HTMLElement).offsetHeight - header.offsetHeight;\n\t\t\t\tconst scrollTop = this.$el.scrollTop;\n\t\t\t\tconst scrollBottom = scrollTop + containerHeight;\n\n\t\t\t\tif (element) {\n\t\t\t\t\tconst itemTop = element.offsetTop - header.offsetHeight;\n\t\t\t\t\tconst itemBottom = itemTop + element.offsetHeight;\n\n\t\t\t\t\tif (itemBottom > scrollBottom) {\n\t\t\t\t\t\tthis.$el.scrollTop = itemBottom - containerHeight;\n\t\t\t\t\t} else if (itemTop < scrollTop) {\n\t\t\t\t\t\tthis.$el.scrollTop = itemTop;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tsortBy(by: keyof IPack) {\n\t\t\tif (this.sort === by) {\n\t\t\t\tif (!this.desc) {\n\t\t\t\t\tthis.desc = true;\n\t\t\t\t} else {\n\t\t\t\t\tthis.sort = '';\n\t\t\t\t\tthis.desc = false;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.sort = by;\n\t\t\t\tthis.desc = false;\n\t\t\t}\n\t\t},\n\t\tfilterList(\n\t\t\tlist: DeepReadonly<Array<Pack>>,\n\t\t\tsearch: string\n\t\t): Array<DeepReadonly<Pack>> {\n\t\t\tif (!search) return [...list];\n\t\t\treturn run(\n\t\t\t\tsearch,\n\t\t\t\tthis.repo ? this.repo!.getAuthors() : {},\n\t\t\t\tlist as any\n\t\t\t) as Pack[];\n\t\t},\n\t\ttranslatePackState(state: Pack) {\n\t\t\tif (state.loaded) return 'Active';\n\t\t\tif (state.installed) return 'Installed';\n\t\t\treturn '';\n\t\t},\n\t},\n\twatch: {\n\t\tfocusedItem() {\n\t\t\tthis.updateFocusedItem();\n\t\t},\n\t},\n});\n","import { render } from \"./List.vue?vue&type=template&id=7019b45c&scoped=true\"\nimport script from \"./List.vue?vue&type=script&lang=ts\"\nexport * from \"./List.vue?vue&type=script&lang=ts\"\n\nimport \"./List.vue?vue&type=style&index=0&id=7019b45c&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-7019b45c\"\n\nexport default script","<template>\n\t<div class=\"pack-display\" :style=\"{ backgroundImage }\" @click.stop>\n\t\t<header>\n\t\t\t<h1>\n\t\t\t\t<button\n\t\t\t\t\tv-if=\"showBack\"\n\t\t\t\t\tclass=\"exit-button\"\n\t\t\t\t\t@click=\"$emit('leave', true)\"\n\t\t\t\t>\n\t\t\t\t\t<i class=\"material-icons\">arrow_back</i>\n\t\t\t\t</button>\n\t\t\t\t{{ pack.name }}\n\t\t\t</h1>\n\t\t\t<h2>{{ pack.id }}</h2>\n\t\t</header>\n\t\t<section\n\t\t\tclass=\"disclaimer\"\n\t\t\tv-if=\"pack.disclaimer\"\n\t\t\tv-html=\"sanitize(pack.disclaimer)\"\n\t\t/>\n\t\t<section v-if=\"pack.source\">\n\t\t\t<l :to=\"pack.source\">Source</l>\n\t\t</section>\n\t\t<section>\n\t\t\t<button v-if=\"addable\" @click=\"add\">\n\t\t\t\t<i class=\"material-icons\">add</i>\n\t\t\t\tActivate\n\t\t\t</button>\n\t\t\t<button v-if=\"removable\" @click=\"remove\">\n\t\t\t\t<i class=\"material-icons\">remove</i>\n\t\t\t\tDeactivate\n\t\t\t</button>\n\t\t\t<button v-if=\"installable\" @click=\"install\">\n\t\t\t\t<i class=\"material-icons\">add</i>\n\t\t\t\tStore locally\n\t\t\t</button>\n\t\t\t<button v-if=\"uninstallable\" @click=\"uninstall\">\n\t\t\t\t<i class=\"material-icons\">remove</i>\n\t\t\t\tRemove locally\n\t\t\t</button>\n\t\t\t<toggle\n\t\t\t\tv-if=\"autoloadEnabled\"\n\t\t\t\tlabel=\"Load on startup\"\n\t\t\t\tv-model=\"autoload\"\n\t\t\t/>\n\t\t</section>\n\t\t<section>\n\t\t\t<h3>Authors</h3>\n\t\t\t<table>\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr v-for=\"authorId of pack.authors\" :key=\"authorId\">\n\t\t\t\t\t\t<td>{{ authorName(authorId) }}</td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t<l\n\t\t\t\t\t\t\t\tv-for=\"link of authorsLinks(authorId)\"\n\t\t\t\t\t\t\t\t:key=\"link.target\"\n\t\t\t\t\t\t\t\t:to=\"link.target\"\n\t\t\t\t\t\t\t\tclass=\"platform_button\"\n\t\t\t\t\t\t\t\t><img\n\t\t\t\t\t\t\t\t\t:title=\"link.platform\"\n\t\t\t\t\t\t\t\t\t:src=\"link.icon\"\n\t\t\t\t\t\t\t\t\theight=\"32\"\n\t\t\t\t\t\t\t\t\twidth=\"32\"\n\t\t\t\t\t\t\t/></l>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</tr>\n\t\t\t\t</tbody>\n\t\t\t</table>\n\t\t</section>\n\t\t<section v-if=\"pack.description\">\n\t\t\t<h3>Credits</h3>\n\t\t\t<p v-html=\"sanitize(pack.description)\"></p>\n\t\t</section>\n\t</div>\n</template>\n\n<script lang=\"ts\">\nimport { IAuthor, IAuthors } from '@edave64/dddg-repo-filters/dist/authors';\nimport { sanitize } from '@/components/toolbox/tools/character-pack-sanitizer';\nimport environment from '@/environments/environment';\nimport { defineComponent, PropType } from 'vue';\nimport { IRemovePacksAction } from '@/store';\nimport L from '@/components/ui/link.vue';\nimport { Pack, Repo } from '@/models/repo';\nimport { DeepReadonly } from '@/util/readonly';\nimport Toggle from '../toggle.vue';\nimport { IPack } from 'node_modules/@edave64/dddg-repo-filters/dist/pack';\n\nconst linkablePlatforms: Array<[keyof IAuthor, string, string]> = [\n\t['reddit', 'https://reddit.com/u/%1', 'reddit.png'],\n\t['deviantart', 'https://www.deviantart.com/%1', 'deviantart.png'],\n\t['twitter', 'https://twitter.com/%1', 'twitter.svg'],\n\t['pixiv', 'https://www.pixiv.net/users/%1', 'pixiv.ico'],\n\t['patreon', 'https://www.patreon.com/%1', 'patreon.png'],\n\t['facebook', 'https://www.facebook.com/%1', 'facebook.png'],\n\t['github', 'https://github.com/%1', 'github.png'],\n\t['website', '%1', 'website.svg'],\n];\n\nexport default defineComponent({\n\tcomponents: { L, Toggle },\n\tprops: {\n\t\tselected: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\trepo: {\n\t\t\ttype: Object as PropType<Repo>,\n\t\t\trequire: true,\n\t\t},\n\t\tshowBack: {\n\t\t\ttype: Boolean,\n\t\t\trequire: false,\n\t\t},\n\t},\n\tcomputed: {\n\t\tpack(): DeepReadonly<Pack> {\n\t\t\treturn this.repo!.getPack(this.selected);\n\t\t},\n\t\tbackgroundImage(): string {\n\t\t\treturn this.pack.preview.map(preview => `url('${preview}')`).join(',');\n\t\t},\n\t\tinstallable(): boolean {\n\t\t\tif (!environment.supports.localRepo) return false;\n\t\t\treturn !this.pack.installed;\n\t\t},\n\t\tuninstallable(): boolean {\n\t\t\tif (!environment.supports.localRepo) return false;\n\t\t\treturn this.pack.installed;\n\t\t},\n\t\tremovable(): boolean {\n\t\t\treturn this.pack.loaded;\n\t\t},\n\t\taddable(): boolean {\n\t\t\treturn !this.pack.loaded;\n\t\t},\n\t\tautoloadEnabled(): boolean {\n\t\t\treturn environment.supports.autoLoading;\n\t\t},\n\t\tautoload: {\n\t\t\tget(): boolean {\n\t\t\t\treturn environment.state.autoAdd.includes(this.selected);\n\t\t\t},\n\t\t\tset(val: boolean): void {\n\t\t\t\tif (val) {\n\t\t\t\t\tenvironment.autoLoadAdd(this.selected);\n\t\t\t\t} else {\n\t\t\t\t\tenvironment.autoLoadRemove(this.selected);\n\t\t\t\t}\n\t\t\t},\n\t\t},\n\t},\n\tmethods: {\n\t\tfocus() {\n\t\t\t(this.$refs.toFocus as HTMLElement).focus();\n\t\t},\n\t\tauthorName(authorId: string) {\n\t\t\tconst author = this.repo!.getAuthor(authorId);\n\t\t\tif (author && author.currentName) return author.currentName;\n\t\t\treturn authorId;\n\t\t},\n\t\tauthorsLinks(authorId: string): AuthorLink[] {\n\t\t\tconst author = this.repo!.getAuthor(authorId);\n\t\t\tif (!author) return [];\n\t\t\treturn linkablePlatforms\n\t\t\t\t.filter(platform => author[platform[0]])\n\t\t\t\t.map(platform => {\n\t\t\t\t\tconst value = author[platform[0]]!;\n\t\t\t\t\tconst target = platform[1].replace('%1', value);\n\t\t\t\t\treturn {\n\t\t\t\t\t\ttarget,\n\t\t\t\t\t\tplatform: platform[0][0].toUpperCase() + platform[0].slice(1),\n\t\t\t\t\t\ticon: 'icons/' + platform[2],\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t},\n\t\tsanitize(credits: string) {\n\t\t\treturn sanitize(credits);\n\t\t},\n\t\tinstall(): void {\n\t\t\tif (this.pack.installed) return;\n\t\t\tconst authors: IAuthors = {};\n\t\t\tfor (const key of this.pack.authors) {\n\t\t\t\tauthors[key] = { ...this.repo!.getAuthor(key) };\n\t\t\t}\n\n\t\t\tconst pack: any = JSON.parse(JSON.stringify(this.pack));\n\t\t\tdelete pack.autoloading;\n\t\t\tdelete pack.online;\n\t\t\tdelete pack.loaded;\n\t\t\tdelete pack.installed;\n\n\t\t\tenvironment.localRepoInstall(\n\t\t\t\tthis.pack.dddg2Path || this.pack.dddg1Path,\n\t\t\t\tpack,\n\t\t\t\tauthors\n\t\t\t);\n\t\t},\n\t\tuninstall(): void {\n\t\t\tif (!this.pack.installed) return;\n\t\t\tenvironment.localRepoUninstall(this.pack.id);\n\t\t},\n\t\tasync remove(): Promise<void> {\n\t\t\tawait this.$store.dispatch('removePacks', {\n\t\t\t\tpacks: new Set([this.pack.id]),\n\t\t\t} as IRemovePacksAction);\n\t\t},\n\t\tasync add(): Promise<void> {\n\t\t\tawait this.$store.dispatch(\n\t\t\t\t'content/loadContentPacks',\n\t\t\t\tthis.pack.dddg2Path || this.pack.dddg1Path\n\t\t\t);\n\t\t},\n\t},\n});\n\ninterface AuthorLink {\n\treadonly target: string;\n\treadonly platform: string;\n\treadonly icon: string;\n}\n</script>\n\n<style scoped lang=\"scss\">\n.platform_button {\n\tmargin-right: 6px;\n}\n\n.exit-button {\n\theight: 32px;\n\twidth: 32px;\n\ttext-align: center;\n\tbackground-position: center center;\n\tbackground-repeat: no-repeat;\n\tbackground-size: contain;\n}\n\n.pack-display {\n\twidth: 100%;\n\theight: 100%;\n\tbackground-attachment: scroll;\n\tbackground-color: $default-native-background;\n\tbackground-color: var(--native-background);\n\tbackground-position: right center;\n\tbackground-repeat: no-repeat;\n\tbackground-size: contain;\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-self: center;\n\toverflow: auto;\n\tpadding: 0;\n\n\th1 {\n\t\tfont-size: 24px;\n\t}\n\n\th2 {\n\t\tfont-size: 14px;\n\t\tcolor: $default-text;\n\t\tcolor: var(--text);\n\t}\n\n\tsection,\n\theader,\n\tfooter {\n\t\tpadding: 16px;\n\t\tbackground: linear-gradient(\n\t\t\t90deg,\n\t\t\trgba(255, 255, 255, 1) 25%,\n\t\t\trgba(255, 255, 255, 0) 75%\n\t\t);\n\t\tbackground: linear-gradient(\n\t\t\t90deg,\n\t\t\tvar(--pack-display-start) 25%,\n\t\t\tvar(--pack-display-end) 75%\n\t\t);\n\t\twidth: 100%;\n\t\tcolor: $default-text;\n\t\tcolor: var(--text);\n\n\t\ttext-shadow: 0 0 4px #fff, -1px -1px 0 #fff, 1px -1px 0 #fff,\n\t\t\t-1px 1px 0 #fff, 1px 1px 0 #fff;\n\t\ttext-shadow: 0 0 4px var(--native-background),\n\t\t\t-1px -1px 0 var(--native-background), 1px -1px 0 var(--native-background),\n\t\t\t-1px 1px 0 var(--native-background), 1px 1px 0 var(--native-background);\n\t}\n\n\tfooter:last-child,\n\tsection:last-child {\n\t\tflex-grow: 1;\n\t}\n\n\tsection.disclaimer {\n\t\tbackground: linear-gradient(\n\t\t\t90deg,\n\t\t\trgba(255, 51, 51, 1) 25%,\n\t\t\trgba(255, 51, 51, 0) 75%\n\t\t);\n\t}\n\n\t.copy-wrapper {\n\t\tdisplay: block;\n\t\twidth: 1px;\n\t\toverflow: hidden;\n\t\theight: 1px;\n\t\topacity: 0;\n\n\t\tinput {\n\t\t\tposition: relative;\n\t\t}\n\t}\n\n\t>>> ul {\n\t\tmargin-left: 20px;\n\t}\n}\n</style>\n\n<style lang=\"scss\">\nbody {\n\t--pack-display-start: rgba(255, 255, 255, 1);\n\t--pack-display-end: rgba(255, 255, 255, 0);\n}\n\nbody.dark-theme {\n\t--pack-display-start: rgba(23, 23, 23, 1);\n\t--pack-display-end: rgba(23, 23, 23, 0);\n}\n</style>\n","const allowedTags = [\n\t'h3',\n\t'h4',\n\t'h5',\n\t'h6',\n\t'blockquote',\n\t'p',\n\t'a',\n\t'ul',\n\t'ol',\n\t'nl',\n\t'li',\n\t'b',\n\t'i',\n\t'strong',\n\t'em',\n\t'strike',\n\t'code',\n\t'hr',\n\t'br',\n\t'div',\n\t'table',\n\t'thead',\n\t'caption',\n\t'tbody',\n\t'tr',\n\t'th',\n\t'td',\n\t'pre',\n];\nconst allowedAttributes: { [tagName: string]: string[] | undefined } = {\n\ta: ['href'],\n\timg: ['src'],\n};\nconst schemaLimitedAttributes = ['href', 'src'];\nconst allowedSchemas = ['http', 'https'];\nconst enforceAttributes: {\n\t[tagName: string]: { [attr: string]: string } | undefined;\n} = {\n\ta: {\n\t\ttarget: '_blank',\n\t\trel: 'noopener noreferrer',\n\t},\n};\n\nexport function sanitize(html: string) {\n\tconst retDoc = document.createElement('div');\n\tconst doc = document.createElement('div');\n\tdoc.innerHTML = html;\n\n\tfor (const node of Array.from(doc.childNodes)) {\n\t\tfor (const sanitizedNode of sanitizeElement(node as Element)) {\n\t\t\tretDoc.appendChild(sanitizedNode);\n\t\t}\n\t}\n\n\treturn retDoc.innerHTML;\n}\n\nconst protocolMatcher = /^(\\w+):/;\n\nfunction sanitizeElement(node: Node): Node[] {\n\tif (node.nodeType !== Node.ELEMENT_NODE) return [node];\n\tconst el = node as Element;\n\tconst tagName = el.tagName.toLowerCase();\n\tif (allowedTags.includes(tagName)) {\n\t\tconst newEl = document.createElement(tagName) as HTMLElement;\n\t\tconst attrs: Attr[] = Array.prototype.slice.call(el.attributes);\n\t\tconst allowedAttrs = allowedAttributes[tagName] || [];\n\t\tfor (const attr of attrs) {\n\t\t\tif (!allowedAttrs.includes(attr.name)) continue;\n\t\t\tif (schemaLimitedAttributes.includes(attr.name)) {\n\t\t\t\tconst protocolMatch = attr.value.match(protocolMatcher);\n\t\t\t\tif (protocolMatch && !allowedSchemas.includes(protocolMatch[1])) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\t\t\tnewEl.setAttribute(attr.name, el.getAttribute(attr.name)!);\n\t\t}\n\t\tconst enforce = enforceAttributes[tagName];\n\t\tif (enforce) {\n\t\t\tfor (const attrName in enforce) {\n\t\t\t\tif (!Object.prototype.hasOwnProperty.call(enforce, attrName)) continue;\n\t\t\t\tnewEl.setAttribute(attrName, enforce[attrName]);\n\t\t\t}\n\t\t}\n\t\tconst children: Node[] = Array.prototype.slice.call(el.childNodes);\n\t\tfor (const childNode of children) {\n\t\t\tconst subNodes = sanitizeElement(childNode);\n\t\t\tfor (const subNode of subNodes) {\n\t\t\t\tnewEl.appendChild(subNode);\n\t\t\t}\n\t\t}\n\t\treturn [newEl];\n\t} else {\n\t\tlet ret: Node[] = [];\n\t\tret.push(document.createTextNode(`<${tagName}>`));\n\t\tfor (const subNode of el.childNodes) {\n\t\t\tret = ret.concat(sanitizeElement(subNode));\n\t\t}\n\t\tret.push(document.createTextNode(`</${tagName}>`));\n\t\treturn ret;\n\t}\n}\n","\nimport { IAuthor, IAuthors } from '@edave64/dddg-repo-filters/dist/authors';\nimport { sanitize } from '@/components/toolbox/tools/character-pack-sanitizer';\nimport environment from '@/environments/environment';\nimport { defineComponent, PropType } from 'vue';\nimport { IRemovePacksAction } from '@/store';\nimport L from '@/components/ui/link.vue';\nimport { Pack, Repo } from '@/models/repo';\nimport { DeepReadonly } from '@/util/readonly';\nimport Toggle from '../toggle.vue';\nimport { IPack } from 'node_modules/@edave64/dddg-repo-filters/dist/pack';\n\nconst linkablePlatforms: Array<[keyof IAuthor, string, string]> = [\n\t['reddit', 'https://reddit.com/u/%1', 'reddit.png'],\n\t['deviantart', 'https://www.deviantart.com/%1', 'deviantart.png'],\n\t['twitter', 'https://twitter.com/%1', 'twitter.svg'],\n\t['pixiv', 'https://www.pixiv.net/users/%1', 'pixiv.ico'],\n\t['patreon', 'https://www.patreon.com/%1', 'patreon.png'],\n\t['facebook', 'https://www.facebook.com/%1', 'facebook.png'],\n\t['github', 'https://github.com/%1', 'github.png'],\n\t['website', '%1', 'website.svg'],\n];\n\nexport default defineComponent({\n\tcomponents: { L, Toggle },\n\tprops: {\n\t\tselected: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\trepo: {\n\t\t\ttype: Object as PropType<Repo>,\n\t\t\trequire: true,\n\t\t},\n\t\tshowBack: {\n\t\t\ttype: Boolean,\n\t\t\trequire: false,\n\t\t},\n\t},\n\tcomputed: {\n\t\tpack(): DeepReadonly<Pack> {\n\t\t\treturn this.repo!.getPack(this.selected);\n\t\t},\n\t\tbackgroundImage(): string {\n\t\t\treturn this.pack.preview.map(preview => `url('${preview}')`).join(',');\n\t\t},\n\t\tinstallable(): boolean {\n\t\t\tif (!environment.supports.localRepo) return false;\n\t\t\treturn !this.pack.installed;\n\t\t},\n\t\tuninstallable(): boolean {\n\t\t\tif (!environment.supports.localRepo) return false;\n\t\t\treturn this.pack.installed;\n\t\t},\n\t\tremovable(): boolean {\n\t\t\treturn this.pack.loaded;\n\t\t},\n\t\taddable(): boolean {\n\t\t\treturn !this.pack.loaded;\n\t\t},\n\t\tautoloadEnabled(): boolean {\n\t\t\treturn environment.supports.autoLoading;\n\t\t},\n\t\tautoload: {\n\t\t\tget(): boolean {\n\t\t\t\treturn environment.state.autoAdd.includes(this.selected);\n\t\t\t},\n\t\t\tset(val: boolean): void {\n\t\t\t\tif (val) {\n\t\t\t\t\tenvironment.autoLoadAdd(this.selected);\n\t\t\t\t} else {\n\t\t\t\t\tenvironment.autoLoadRemove(this.selected);\n\t\t\t\t}\n\t\t\t},\n\t\t},\n\t},\n\tmethods: {\n\t\tfocus() {\n\t\t\t(this.$refs.toFocus as HTMLElement).focus();\n\t\t},\n\t\tauthorName(authorId: string) {\n\t\t\tconst author = this.repo!.getAuthor(authorId);\n\t\t\tif (author && author.currentName) return author.currentName;\n\t\t\treturn authorId;\n\t\t},\n\t\tauthorsLinks(authorId: string): AuthorLink[] {\n\t\t\tconst author = this.repo!.getAuthor(authorId);\n\t\t\tif (!author) return [];\n\t\t\treturn linkablePlatforms\n\t\t\t\t.filter(platform => author[platform[0]])\n\t\t\t\t.map(platform => {\n\t\t\t\t\tconst value = author[platform[0]]!;\n\t\t\t\t\tconst target = platform[1].replace('%1', value);\n\t\t\t\t\treturn {\n\t\t\t\t\t\ttarget,\n\t\t\t\t\t\tplatform: platform[0][0].toUpperCase() + platform[0].slice(1),\n\t\t\t\t\t\ticon: 'icons/' + platform[2],\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t},\n\t\tsanitize(credits: string) {\n\t\t\treturn sanitize(credits);\n\t\t},\n\t\tinstall(): void {\n\t\t\tif (this.pack.installed) return;\n\t\t\tconst authors: IAuthors = {};\n\t\t\tfor (const key of this.pack.authors) {\n\t\t\t\tauthors[key] = { ...this.repo!.getAuthor(key) };\n\t\t\t}\n\n\t\t\tconst pack: any = JSON.parse(JSON.stringify(this.pack));\n\t\t\tdelete pack.autoloading;\n\t\t\tdelete pack.online;\n\t\t\tdelete pack.loaded;\n\t\t\tdelete pack.installed;\n\n\t\t\tenvironment.localRepoInstall(\n\t\t\t\tthis.pack.dddg2Path || this.pack.dddg1Path,\n\t\t\t\tpack,\n\t\t\t\tauthors\n\t\t\t);\n\t\t},\n\t\tuninstall(): void {\n\t\t\tif (!this.pack.installed) return;\n\t\t\tenvironment.localRepoUninstall(this.pack.id);\n\t\t},\n\t\tasync remove(): Promise<void> {\n\t\t\tawait this.$store.dispatch('removePacks', {\n\t\t\t\tpacks: new Set([this.pack.id]),\n\t\t\t} as IRemovePacksAction);\n\t\t},\n\t\tasync add(): Promise<void> {\n\t\t\tawait this.$store.dispatch(\n\t\t\t\t'content/loadContentPacks',\n\t\t\t\tthis.pack.dddg2Path || this.pack.dddg1Path\n\t\t\t);\n\t\t},\n\t},\n});\n\ninterface AuthorLink {\n\treadonly target: string;\n\treadonly platform: string;\n\treadonly icon: string;\n}\n","import { render } from \"./PackDisplay.vue?vue&type=template&id=03278f14&scoped=true\"\nimport script from \"./PackDisplay.vue?vue&type=script&lang=ts\"\nexport * from \"./PackDisplay.vue?vue&type=script&lang=ts\"\n\nimport \"./PackDisplay.vue?vue&type=style&index=0&id=03278f14&scoped=true&lang=scss\"\nimport \"./PackDisplay.vue?vue&type=style&index=1&id=03278f14&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-03278f14\"\n\nexport default script","\n/* tslint:disable:no-bitwise */\nimport { IAuthors } from '@edave64/dddg-repo-filters/dist/authors';\nimport { IPack } from '@edave64/dddg-repo-filters/dist/pack';\nimport SearchBar from '../SearchBar.vue';\nimport List from '../List.vue';\nimport { SelectedEvent, IPackWithState, PackStates } from '../types';\nimport PackDisplay from '../PackDisplay.vue';\nimport environment from '@/environments/environment';\nimport { defineComponent } from 'vue';\nimport { Pack, Repo } from '@/models/repo';\nimport { DeepReadonly } from '@/util/readonly';\n\nconst repoUrl = 'https://edave64.github.io/Doki-Doki-Dialog-Generator-Packs/';\n\nexport default defineComponent({\n\tcomponents: {\n\t\tSearchBar,\n\t\tList,\n\t\tPackDisplay,\n\t},\n\tdata: () => ({\n\t\tsearch: '',\n\t\tpacks: [] as DeepReadonly<Pack[]>,\n\t\tauthors: {} as IAuthors,\n\t\trepo: null as null | Repo,\n\t\tselected: null as string | null,\n\t}),\n\tmethods: {\n\t\tfocus(): void {},\n\t\tsetSearch(str: string): void {\n\t\t\tthis.selected = null;\n\t\t\tthis.search = str;\n\t\t},\n\t\tleavePackDisplay(moveFocus: boolean) {\n\t\t\tthis.selected = null;\n\t\t\tif (moveFocus) {\n\t\t\t\tthis.$nextTick(() => {\n\t\t\t\t\t(this.$refs.searchBar as any).focus();\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tkeydownHandler(event: KeyboardEvent) {\n\t\t\tif (event.key === 'Escape') {\n\t\t\t\tthis.selected = '';\n\t\t\t\tthis.$nextTick(() => {\n\t\t\t\t\t(this.$refs.searchBar as any).focus();\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tonSelect({ id, source }: SelectedEvent) {\n\t\t\tthis.selected = id;\n\t\t\tif (source === 'keyboard') {\n\t\t\t\tthis.$nextTick(() => {\n\t\t\t\t\tconst dialog = this.$refs.dialog as any;\n\t\t\t\t\tdialog.focus();\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tfocusListHandler() {\n\t\t\t(this.$refs.list as any).focus();\n\t\t},\n\t},\n\tasync created() {\n\t\tconst repo = await Repo.getInstance();\n\t\tthis.repo = repo;\n\t\tthis.packs = repo.getPacks();\n\t\tthis.authors = repo.getAuthors();\n\t},\n});\n","import { render } from \"./SingleBox.vue?vue&type=template&id=1d4fc890&scoped=true\"\nimport script from \"./SingleBox.vue?vue&type=script&lang=ts\"\nexport * from \"./SingleBox.vue?vue&type=script&lang=ts\"\n\nimport \"./SingleBox.vue?vue&type=style&index=0&id=1d4fc890&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-1d4fc890\"\n\nexport default script"],"sourceRoot":""}